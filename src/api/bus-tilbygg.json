{
  "meta": {
    "title": "Tilbygg - Bod, sykkelbod, vedbod, søppelskur",
    "name": "tilbygg"
  },
  "schema": [{
      "id": "kartlegging",
      "type": "Page",
      "heading": "Om det du skal bygge",
      "children": [{
          "id": "hvaSkalDuBygge",
          "property": "hvaSkalDuBygge",
          "type": "Radio",
          "heading": "Hva skal du bygge?",
          "options": [{
              "id": "hvaSkalDuBygge.terrasseEllerPlatting",
              "type": "Answer",
              "heading": "Terrasse eller platting",
              "value": "terrasse"
            },
            {
              "id": "hvaSkalDuBygge.verandaEllerGlassveranda",
              "type": "Answer",
              "heading": "Veranda eller glassveranda",
              "value": "veranda"
            },
            {
              "id": "hvaSkalDuBygge.tilbygg",
              "type": "Answer",
              "heading": "Tilbygg (f.eks. bod, sykkelskur eller trapperom)",
              "value": "tilbygg"
            },
            {
              "id": "hvaSkalDuBygge.takterrasse",
              "type": "Answer",
              "heading": "Takterrasse",
              "value": "takterrasse"
            }
          ]
        },
        {
          "type": "Branch",
          "branches": [{
            "test": {
              "field": "hvaSkalDuBygge",
              "operator": "eq",
              "value": "takterrasse"
            },
            "children": [{
              "type": "Result",
              "id": "ResultatAnsvarligSoker",
              "heading": "Computer says no"
            }]
          }]
        },
        {
          "id": "bebygd",
          "property": "bebygd",
          "type": "Radio",
          "heading": "Er eiendommen bebygd?",
          "hide": {
            "field": "hvaSkalDuBygge",
            "operator": "not"
          },
          "options": [{
              "id": "bebygd.ja",
              "type": "Answer",
              "heading": "Ja, eiendommen er bebygd.",
              "value": "ja"
            },
            {
              "id": "bebygd.nei",
              "type": "Answer",
              "heading": "Nei, eiendommen er ikke bebygd.",
              "value": "nei"
            }
          ]
        },
        {
          "type": "Branch",
          "branches": [{
            "test": {
              "field": "bebygd",
              "operator": "eq",
              "value": "nei"
            },
            "children": [{
              "type": "Result",
              "id": "ResultatAnsvarligSoker",
              "title": "Takk for at du prøvde",
              "heading": "Takk for at du prøvde",
              "children": [{
                  "id": "bebygd.nei.feil",
                  "type": "Error",
                  "show": {
                    "field": "bebygd",
                    "operator": "eq",
                    "value": "nei"
                  },
                  "children": [{
                    "type": "Text",
                    "id": "bebygd.nei.feil.tekst",
                    "warning": true,
                    "heading": "Når eiendommen din ikke er bebygd må du snakke med kommunen før du gjør noe."
                  }]
                },
                {
                  "type": "Reference",
                  "nodeId": ""
                }
              ]
            }]
          }]
        },
        {
          "id": "regulert",
          "property": "regulert",
          "type": "Radio",
          "heading": "Er eiendommen regulert?",
          "hide": {
            "field": "bebygd",
            "operator": "not"
          },
          "options": [{
              "id": "regulert.ja",
              "type": "Answer",
              "heading": "Ja, eiendommen er regulert.",
              "value": "ja"
            },
            {
              "id": "regulert.nei",
              "type": "Answer",
              "heading": "Nei, eiendommen er ikke regulert.",
              "value": "nei"
            }
          ]
        },
        {
          "type": "Branch",
          "branches": [{
            "test": {
              "field": "regulert",
              "operator": "eq",
              "value": "nei"
            },
            "children": [{
              "type": "Result",
              "id": "ResultatDisp",
              "heading": "Du kan kanskje få disp",
              "children": [{
                "id": "regulert.nei.feil",
                "type": "Error",
                "show": {
                  "field": "regulert",
                  "operator": "eq",
                  "value": "nei"
                },
                "children": [{
                  "id": "regulert.nei.feil.tekst",
                  "type": "Text",
                  "warning": true,
                  "heading": "Når eiendommen din ikke er regulert kan det hende du kan få disp, men du må snakke med en voksen i kommunen først."
                }]
              }]
            }]
          }]
        }
      ]
    },
    {
      "type": "Page",
      "heading": "Hvordan skal greiene du bygger være?",
      "id": "omBygget",
      "children": [{
          "type": "Branch",
          "branches": [{
            "test": {
              "field": "hvaSkalDuBygge",
              "operator": "eq",
              "value": "terrasse"
            },
            "children": [{
                "id": "terrasseOverBakken",
                "property": "terrasseOverBakken",
                "type": "Radio",
                "heading": "Blir terrassegulvet på noe som helst punkt høyere enn 0,5 meter over bakken?",
                "options": [{
                    "id": "terrasseOverBakken.ja",
                    "type": "Answer",
                    "heading": "Ja",
                    "value": "ja"
                  },
                  {
                    "id": "terrasseOverBakken.nei",
                    "type": "Answer",
                    "heading": "Nei",
                    "value": "nei"
                  }
                ]
              },
              {
                "type": "Branch",
                "branches": [{
                  "test": {
                    "field": "terrasseOverBakken",
                    "operator": "eq",
                    "value": "nei"
                  },
                  "children": [{
                      "type": "Group",
                      "simple": true,
                      "id": "terrasseRekkverkGroup",
                      "children": [{
                          "id": "terrasseRekkverk",
                          "property": "terrasseRekkverk",
                          "type": "Radio",
                          "heading": "Blir terrassen høyere enn 0,5?",
                          "options": [{
                              "id": "terrasseRekkverk.ja",
                              "type": "Answer",
                              "heading": "Ja",
                              "value": "ja"
                            },
                            {
                              "id": "terrasseRekkverk.nei",
                              "type": "Answer",
                              "heading": "Nei",
                              "value": "nei"
                            }
                          ]
                        },
                        {
                          "id": "terrasseRekkverk.over05m",
                          "type": "Error",
                          "simple": true,
                          "show": {
                            "field": "terrasseRekkverk",
                            "operator": "eq",
                            "value": "ja"
                          },
                          "children": [{
                            "id": "terrasseRekkverk.over05m.tekst",
                            "type": "Text",
                            "warning": true,
                            "heading": "Hvis terrasserekkverket er over 0,5m må du snakke med kommunen før du gjør noe."
                          }]
                        }
                      ]
                    },
                    {
                      "type": "Reference",
                      "nodeId": "ResultatTakk"
                    }
                  ]
                }]
              }
            ]
          }]
        },
        {
          "id": "tilbyggVerandaHvorGroup",
          "type": "Group",
          "simple": true,
          "show": {
            "type": "or",
            "clauses": [{
                "field": "hvaSkalDuBygge",
                "operator": "eq",
                "value": "tilbygg"
              },
              {
                "field": "hvaSkalDuBygge",
                "operator": "eq",
                "value": "veranda"
              }
            ]
          },
          "children": [{
              "id": "tilbyggVerandaHvorRadio",
              "type": "Radio",
              "property": "tilbyggVerandaHvor",
              "heading": "Hvor skal du plassere det du bygger?",
              "options": [{
                  "id": "tilbyggVerandaHvor.veggTilEksisterende",
                  "type": "Answer",
                  "heading": "På vegg til eksisterende bygg",
                  "value": "veggTilEksisterende"
                },
                {
                  "id": "tilbyggVerandaHvor.takTilEksisterende",
                  "type": "Answer",
                  "heading": "På tak til eksisterende bygg",
                  "value": "takTilEksisterende"
                },
                {
                  "id": "tilbyggVerandaHvor.paaBakken",
                  "type": "Answer",
                  "heading": "På bakken",
                  "value": "paaBakken"
                },
                {
                  "id": "tilbyggVerandaHvor.underBakken",
                  "type": "Answer",
                  "heading": "Under bakken",
                  "value": "underBakken"
                },
                {
                  "id": "tilbyggVerandaHvor.annet",
                  "type": "Answer",
                  "heading": "Annet",
                  "value": "annet"
                }
              ]
            },
            {
              "id": "tilbyggVerandaFesteRadio",
              "property": "tilbyggVerandaFeste",
              "type": "Radio",
              "heading": "Er det understøttet / festet i bakken?",
              "show": {
                "field": "tilbyggVerandaHvor",
                "operator": "eq",
                "value": "veggTilEksisterende"
              },
              "options": [{
                  "id": "tilbyggVerandaFeste.ja",
                  "type": "Answer",
                  "heading": "Ja",
                  "value": "ja"
                },
                {
                  "id": "tilbyggVerandaFeste.nei",
                  "type": "Answer",
                  "heading": "Nei",
                  "value": "nei"
                }
              ]
            },
            {
              "id": "tilbyggVerandaPlasseringRadio",
              "property": "tilbyggVerandaPlassering",
              "type": "Radio",
              "heading": "Hvor skal det du bygger ligge?",
              "show": {
                "field": "tilbyggVerandaHvor",
                "operator": "eq",
                "value": "paaBakken"
              },
              "options": [{
                  "id": "tilbyggVerandaPlassering.inntilHusHytte",
                  "type": "Answer",
                  "heading": "Inntil hus / hytte",
                  "value": "husHytte"
                },
                {
                  "id": "tilbyggVerandaPlassering.inntilBodGarasje",
                  "type": "Answer",
                  "heading": "Inntil bod garasje",
                  "value": "bodGarasje"
                },
                {
                  "id": "tilbyggVerandaPlassering.annet",
                  "type": "Answer",
                  "heading": "Annet",
                  "value": "annet"
                }
              ]
            },
            {
              "type": "Result",
              "id": "ResultatAnsvarligSoker",
              "heading": "Takk for at du prøvde",
              "children": [{
                  "id": "verandaUnderBakkenError",
                  "type": "Error",
                  "show": {
                    "field": "tilbyggVerandaHvor",
                    "operator": "eq",
                    "value": "underBakken"
                  },
                  "heading": "Du kan ikke søke om å bygge veranda under bakken"
                },
                {
                  "id": "takTilEksisterendeError",
                  "type": "Error",
                  "show": {
                    "field": "tilbyggVerandaHvor",
                    "operator": "eq",
                    "value": "takTilEksisterende"
                  },
                  "heading": "Du kan ikke søke om å bygge veranda på tak til eksisterende bygg"
                },
                {
                  "id": "verandaAnnetError",
                  "type": "Error",
                  "show": {
                    "field": "tilbyggVerandaHvor",
                    "operator": "eq",
                    "value": "annet"
                  },
                  "heading": "Du kan ikke søke om å bygge veranda på noe annet enn valgene over"
                }
              ]
            }
          ]
        }
      ]
    }
  ]
}